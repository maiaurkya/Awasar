{"ast":null,"code":"import _classCallCheck from\"/home/sakshi/Downloads/test/Test/Awasar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/sakshi/Downloads/test/Test/Awasar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/sakshi/Downloads/test/Test/Awasar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/sakshi/Downloads/test/Test/Awasar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Form}from\"react-bootstrap\";import{Fade}from\"react-reveal\";import html2canvas from'html2canvas';import jsPDF from'jspdf';import Select from\"react-select\";import{useRef}from\"react\";import Header from\"../../components/header/Header\";import Footer from\"../../components/footer/Footer\";import GithubRepoCard from\"../../components/githubRepoCard/GithubRepoCard\";import AdmitCard from\"../../containers/education/AdmitCard\";import PublicationCard from\"../../components/publicationsCard/PublicationCard\";import Button from\"../../components/button/Button\";import SelectBox from\"../../components/Select/SelectBox\";import TopButton from\"../../components/topButton/TopButton\";import{cityList,cityListWithLabel,enrollmentPrefix,enrollmentStatic}from\"../../constant\";import{greeting,projectsHeader,publicationsHeader,publications,contactPageData,baseUrl}from\"../../portfolio.js\";import ProjectsData from\"../../shared/opensource/projects.json\";import\"./Projects.css\";import ProjectsImg from\"./ProjectsImg\";var AdmitCardPage=/*#__PURE__*/function(_Component){_inherits(AdmitCardPage,_Component);var _super=_createSuper(AdmitCardPage);function AdmitCardPage(props){var _this;_classCallCheck(this,AdmitCardPage);_this=_super.call(this,props);_this.onChangeCenter=function(selectedOption){_this.setState({center:selectedOption});console.log(\"Option selected:\",selectedOption);};_this.changeHandler=function(e){console.log(e.target.value);_this.setState({selector:e.target.value});};_this.setVisibal=function(){var errors={};if(!_this.state.selector||!_this.state.selector.trim()){errors.selector=\"Mobile Nmuber / Email is required\";}else{delete errors.selector;}if(!_this.state.center){errors.center=\"Please select your Exam Center\";}else{delete errors.center;}var requestOptions={method:'GET',headers:{'Content-Type':'application/json'}};var readyToCall=Object.keys(errors).length;if(!readyToCall){errors={};fetch(\"http://localhost:3001/enquiry/getEnquiryData/\".concat(_this.state.selector),_this.state.selctor).then(function(response){return response.json();}).then(function(data){_this.setState({res:data,resStatus:data.statusType,errorValues:{}});errors={};if(data.statusType!=='error'){_this.setState({admitStatus:true,buttonText:'Download Your Admit Card'});}});}else{_this.setState({errorValues:errors});}};_this.printDocument=function(data){return new Promise(function(resolve){var input=document.getElementById('divToPrint');html2canvas(input,{useCORS:true}).then(function(canvas){var img=new Image();img.src=canvas.toDataURL('image/png');img.onload=function(){var pdf=new jsPDF('l','px','junior-legal',true);pdf.addImage(img,0,0,pdf.internal.pageSize.width,pdf.internal.pageSize.height);pdf.save(\"hallTicket-\".concat(enrollmentPrefix).concat(parseInt(enrollmentStatic)+parseInt(data.res.data.id),\".pdf\"));setTimeout(function(){resolve('resolved');},3000);};});_this.setState({admitStatus:false,loading:false});});};_this.state={admitStatus:false,loading:false,center:'',selector:'',res:'',resStatus:'',errorValues:'',buttonText:'Get Your Admit Card'};_this.searchInput=React.createRef();return _this;}_createClass(AdmitCardPage,[{key:\"asyncPDF\",value:function asyncPDF(data){var _this2=this;this.setState({buttonText:'Downloading...'});this.printDocument(data).then(function(){_this2.setState({buttonText:'Get Your Admit Card'});});}},{key:\"render\",value:function render(){var _this3=this;console.log(\"console.log(e.target.value);\",this.state);var theme=this.props.theme;return/*#__PURE__*/React.createElement(\"div\",{className:\"projects-main\"},/*#__PURE__*/React.createElement(Header,{theme:theme}),/*#__PURE__*/React.createElement(\"div\",{className:\"basic-projects\"},/*#__PURE__*/React.createElement(Fade,{bottom:true,duration:2000,distance:\"40px\"},/*#__PURE__*/React.createElement(\"div\",{className:\"projects-heading-div\"},/*#__PURE__*/React.createElement(\"div\",{className:\"projects-heading-img-div\"},/*#__PURE__*/React.createElement(ProjectsImg,{theme:theme})),/*#__PURE__*/React.createElement(\"div\",{className:\"projects-heading-text-div\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"projects-heading-text\",style:{color:theme.text}},projectsHeader.title),/*#__PURE__*/React.createElement(\"p\",{className:\"projects-header-detail-text subTitle\",style:{color:theme.secondaryText}},projectsHeader[\"description\"]))))),/*#__PURE__*/React.createElement(\"div\",{className:\"project-button\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\"},/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",className:this.state.selector!==''?\" active\":\"\",onChange:this.changeHandler,value:this.selector}),/*#__PURE__*/React.createElement(Form.Label,null,\"Mobile Number / Email\"),/*#__PURE__*/React.createElement(\"label\",{className:this.state.errorValues.selector||this.state.resStatus==='error'?'invalid-feedback':'hide'},this.state.errorValues.selector?this.state.errorValues.selector:this.state.resStatus==='error'?\"No Record found with \".concat(this.state.selector,\" please try with different Mobile Nmuber / Email is required.\"):''),/*#__PURE__*/React.createElement(\"div\",{className:\"form-notch\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-notch-leading\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-notch-middle\",style:{width:\"140px\"}}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-notch-trailing\"}))),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicSelect\"},/*#__PURE__*/React.createElement(Select,{defaultValue:cityListWithLabel[0],label:\"Single select\",options:cityListWithLabel,value:this.state.center,onChange:this.onChangeCenter}),/*#__PURE__*/React.createElement(\"label\",{className:this.state.errorValues.center?'invalid-feedback':'hide'},this.state.errorValues.center)),/*#__PURE__*/React.createElement(\"button\",{className:\"main-button admit-button\",onClick:function onClick(){return!_this3.state.admitStatus?_this3.setVisibal():_this3.asyncPDF(_this3.state);},style:{color:theme.body,backgroundColor:theme.text,border:\"solid 1px \".concat(theme.text)}},this.state.buttonText))),/*#__PURE__*/React.createElement(\"div\",{id:\"divToPrint\",className:\"repo-cards-div-main \".concat(!this.state.admitStatus?'hide':'')},/*#__PURE__*/React.createElement(AdmitCard,{theme:theme,contact:contactPageData,logo:greeting.logo_name,data:this.state.res.data,center:this.state.center})),/*#__PURE__*/React.createElement(\"div\",{className:\"project-button\"},/*#__PURE__*/React.createElement(\"button\",{className:\"main-button admit-button \".concat(!this.state.admitStatus?'hide':''),onClick:!this.state.admitStatus?this.setVisibal:this.printDocument,style:{color:theme.body,backgroundColor:theme.text,border:\"solid 1px \".concat(theme.text)}},this.state.buttonText)),/*#__PURE__*/React.createElement(Footer,{theme:this.props.theme,onToggle:this.props.onToggle}),/*#__PURE__*/React.createElement(TopButton,{theme:this.props.theme}));}}]);return AdmitCardPage;}(Component);export default AdmitCardPage;","map":{"version":3,"sources":["/home/sakshi/Downloads/test/Test/Awasar/src/pages/projects/AdmitCard.js"],"names":["React","Component","Form","Fade","html2canvas","jsPDF","Select","useRef","Header","Footer","GithubRepoCard","AdmitCard","PublicationCard","Button","SelectBox","TopButton","cityList","cityListWithLabel","enrollmentPrefix","enrollmentStatic","greeting","projectsHeader","publicationsHeader","publications","contactPageData","baseUrl","ProjectsData","ProjectsImg","AdmitCardPage","props","onChangeCenter","selectedOption","setState","center","console","log","changeHandler","e","target","value","selector","setVisibal","errors","state","trim","requestOptions","method","headers","readyToCall","Object","keys","length","fetch","selctor","then","response","json","data","res","resStatus","statusType","errorValues","admitStatus","buttonText","printDocument","Promise","resolve","input","document","getElementById","useCORS","canvas","img","Image","src","toDataURL","onload","pdf","addImage","internal","pageSize","width","height","save","parseInt","id","setTimeout","loading","searchInput","createRef","theme","color","text","title","secondaryText","asyncPDF","body","backgroundColor","border","logo_name","onToggle"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport { Fade } from \"react-reveal\";\nimport html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';\nimport Select from \"react-select\";\nimport { useRef } from \"react\";\nimport Header from \"../../components/header/Header\";\nimport Footer from \"../../components/footer/Footer\";\nimport GithubRepoCard from \"../../components/githubRepoCard/GithubRepoCard\";\nimport AdmitCard from \"../../containers/education/AdmitCard\";\nimport PublicationCard from \"../../components/publicationsCard/PublicationCard\";\nimport Button from \"../../components/button/Button\";\nimport SelectBox from \"../../components/Select/SelectBox\";\nimport TopButton from \"../../components/topButton/TopButton\";\nimport {cityList, cityListWithLabel, enrollmentPrefix, enrollmentStatic} from \"../../constant\";\nimport {\n  greeting,\n  projectsHeader,\n  publicationsHeader,\n  publications,\n  contactPageData,\n  baseUrl,\n} from \"../../portfolio.js\";\nimport ProjectsData from \"../../shared/opensource/projects.json\";\nimport \"./Projects.css\";\nimport ProjectsImg from \"./ProjectsImg\";\n\nclass AdmitCardPage extends Component {\nconstructor(props) {\n    super(props);\n    this.state = {\n    admitStatus: false, \n    loading: false, \n    center: '', \n    selector: '',\n    res: '', \n    resStatus:'',\n    errorValues:'',\n    buttonText:'Get Your Admit Card',\n    };\n    this.searchInput = React.createRef();\n  }\n  \n  onChangeCenter = selectedOption => {\n    this.setState({ center: selectedOption });\n    console.log(`Option selected:`, selectedOption);\n  };\n  changeHandler = (e) => {\n  \tconsole.log(e.target.value);\n  \tthis.setState({ selector: e.target.value });\n  }\n  \nsetVisibal = () => {\n\tlet errors = {};\n\t\n\tif (!this.state.selector || !this.state.selector.trim()) {\n\t  \terrors.selector = \"Mobile Nmuber / Email is required\";\n\t} \n\telse {\n\t   \tdelete errors.selector;\n\t}\n\tif(!this.state.center){\n\t\terrors.center = \"Please select your Exam Center\";\n\t}else{\n\t\tdelete errors.center;\n\t}\n\tconst requestOptions = {\n\t\tmethod: 'GET',\n\t        headers: { 'Content-Type': 'application/json' }\n\t};\n\tconst readyToCall = Object.keys(errors).length ;\n\tif(!readyToCall){\n\terrors= {};\n\tfetch(`http://localhost:3001/enquiry/getEnquiryData/${this.state.selector}`, this.state.selctor)\n\t\t.then(response => response.json())\n\t\t.then(data => {\n\t\t\tthis.setState({ res:data,\n\t\t\tresStatus: data.statusType,\n\t\t\terrorValues : {}\n\t\t\t});\n\t\t\terrors= {};\n\t\t\tif(data.statusType !== 'error'){\n\t\t\t\tthis.setState({admitStatus: true, buttonText: 'Download Your Admit Card'});\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t}else{\n\t\tthis.setState({errorValues: errors})\n\t}\n};\n\n asyncPDF(data) {\n  this.setState({buttonText: 'Downloading...'});\n  this.printDocument(data).then(()=>{\n  this.setState({buttonText: 'Get Your Admit Card'});\n});\n}\n  printDocument = (data) =>{\n  return new Promise(resolve => {\n    const input = document.getElementById('divToPrint');\n    html2canvas(input, {useCORS: true}).then(function(canvas) {\n      let img = new Image();\n      img.src = canvas.toDataURL('image/png');\n      img.onload = function () {\n        let pdf = new jsPDF('l', 'px', 'junior-legal', true);\n        pdf.addImage(img, 0, 0, pdf.internal.pageSize.width, pdf.internal.pageSize.height);\n        pdf.save(`hallTicket-${enrollmentPrefix}${parseInt(enrollmentStatic)+parseInt(data.res.data.id)}.pdf`);\n        setTimeout(()=>{\n\t    resolve('resolved');\n    \t},3000)\n      };\n    });\n    this.setState({admitStatus: false, loading: false});\n  });\n  }\n  render() {\n  console.log( \"console.log(e.target.value);\",this.state );\n    const theme = this.props.theme;\n    return (\n      <div className=\"projects-main\">\n        <Header theme={theme} />\n        <div className=\"basic-projects\">\n          <Fade bottom duration={2000} distance=\"40px\">\n            <div className=\"projects-heading-div\">\n              <div className=\"projects-heading-img-div\">\n                <ProjectsImg theme={theme} />\n              </div>\n              <div className=\"projects-heading-text-div\">\n                <h1\n                  className=\"projects-heading-text\"\n                  style={{ color: theme.text }}\n                >\n                  {projectsHeader.title}\n                </h1>\n                <p\n                  className=\"projects-header-detail-text subTitle\"\n                  style={{ color: theme.secondaryText }}\n                >\n                  {projectsHeader[\"description\"]}\n                </p>\n              </div>\n            </div>\n          </Fade>\n        </div>\n        \n        <div className=\"project-button\">\n\t\t<form>\n\t\t\t<Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n\t\t\t\t\n\t\t\t\t<Form.Control type=\"text\" className={\n              this.state.selector !== '' ? \" active\" : \"\"\n            } onChange={this.changeHandler} value={this.selector} />\n\t\t\t\t<Form.Label>Mobile Number / Email</Form.Label>\n\t\t\t\t<label className={this.state.errorValues.selector || this.state.resStatus === 'error' ? 'invalid-feedback': 'hide'}>{this.state.errorValues.selector ? this.state.errorValues.selector : this.state.resStatus === 'error' ? `No Record found with ${this.state.selector} please try with different Mobile Nmuber / Email is required.` : '' }</label>\n\t\t\t\t<div className=\"form-notch\">\n\t\t\t\t\t<div className=\"form-notch-leading\"></div>\n\t\t\t\t\t<div className=\"form-notch-middle\" style={{width: \"140px\"}}>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-notch-trailing\"></div>\n\t\t\t\t</div>\n\t\t      \t</Form.Group>\t\n\t\t\t<Form.Group controlId=\"formBasicSelect\">\n\t\t\t\t<Select\n\t\t\t\t      defaultValue={cityListWithLabel[0]}\n\t\t\t\t      label=\"Single select\"\n\t\t\t\t      options={cityListWithLabel}\n\t\t\t\t      value={this.state.center}\n\t\t\t\t      onChange={this.onChangeCenter}\n\t\t\t\t    />\n\t\t\t\t    <label className={this.state.errorValues.center ? 'invalid-feedback': 'hide'}>{this.state.errorValues.center}</label>\n\t\t      \t</Form.Group>\n\t\t  \t\n\t\t\t<button className=\"main-button admit-button\" onClick={()=>!this.state.admitStatus ? this.setVisibal() : this.asyncPDF(this.state)} style={{\n\t\t\t  color: theme.body,\n\t\t\t  backgroundColor: theme.text,\n\t\t\t  border: `solid 1px ${theme.text}`,\n\t\t\t}}>\n\t\t\t{this.state.buttonText} \n\t\t\t</button>\n\t \t</form>\n        </div>\n       \n        <div id=\"divToPrint\" className={`repo-cards-div-main ${(!this.state.admitStatus  ? 'hide' :'')}`}>\n            <AdmitCard theme={theme} contact={contactPageData} logo={greeting.logo_name} data={this.state.res.data} center={this.state.center}/>\n        </div>\n        <div className=\"project-button\">\n\t\t<button className={`main-button admit-button ${(!this.state.admitStatus  ? 'hide' :'')}`} onClick={!this.state.admitStatus ? this.setVisibal : this.printDocument} style={{\n\t\t  color: theme.body,\n\t\t  backgroundColor: theme.text,\n\t\t  border: `solid 1px ${theme.text}`,\n\t\t}}>\n\t\t{this.state.buttonText} \n\t\t</button>\n        </div>\n        <Footer theme={this.props.theme} onToggle={this.props.onToggle} />\n        <TopButton theme={this.props.theme} />\n      </div>\n    );\n  }\n}\n\nexport default AdmitCardPage;\n"]},"metadata":{},"sourceType":"module"}